
<div class="container">
  <div class="d-flex justify-content-between my-5">
    <div>
      <a [routerLink]="['/home']">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-house" viewBox="0 0 16 16">
          <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5ZM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5 5 5Z"/>
        </svg>
      </a>
    </div>
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#add">
      Add Student <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16">
        <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
      </svg>
    </button>
  </div>

</div>



<div class="container">
  <div *ngIf="loading" >
    <img class="inline-flex " src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
  </div>
  <div class="row " *ngIf="!loading" >
    <div class="col-md-3 " *ngFor="let list of studentList " >
      <div class="text-center border my-3 py-5 rounded" >
        <p> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
          <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/>
        </svg>: {{list.title}} {{list.firstName}} {{list.lastName}}</p>
        <p><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-telephone-fill" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"/>
        </svg>: {{list.phoneNumber}} </p>
        <p><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope-at" viewBox="0 0 16 16">
          <path d="M2 2a2 2 0 0 0-2 2v8.01A2 2 0 0 0 2 14h5.5a.5.5 0 0 0 0-1H2a1 1 0 0 1-.966-.741l5.64-3.471L8 9.583l7-4.2V8.5a.5.5 0 0 0 1 0V4a2 2 0 0 0-2-2H2Zm3.708 6.208L1 11.105V5.383l4.708 2.825ZM1 4.217V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v.217l-7 4.2-7-4.2Z"/>
          <path d="M14.247 14.269c1.01 0 1.587-.857 1.587-2.025v-.21C15.834 10.43 14.64 9 12.52 9h-.035C10.42 9 9 10.36 9 12.432v.214C9 14.82 10.438 16 12.358 16h.044c.594 0 1.018-.074 1.237-.175v-.73c-.245.11-.673.18-1.18.18h-.044c-1.334 0-2.571-.788-2.571-2.655v-.157c0-1.657 1.058-2.724 2.64-2.724h.04c1.535 0 2.484 1.05 2.484 2.326v.118c0 .975-.324 1.39-.639 1.39-.232 0-.41-.148-.41-.42v-2.19h-.906v.569h-.03c-.084-.298-.368-.63-.954-.63-.778 0-1.259.555-1.259 1.4v.528c0 .892.49 1.434 1.26 1.434.471 0 .896-.227 1.014-.643h.043c.118.42.617.648 1.12.648Zm-2.453-1.588v-.227c0-.546.227-.791.573-.791.297 0 .572.192.572.708v.367c0 .573-.253.744-.564.744-.354 0-.581-.215-.581-.8Z"/>
        </svg>: {{list.email}} </p>
        <span (click)="selectStudent(list.id)" type="button" data-bs-toggle="modal" data-bs-target="#edit" >
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
            <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
            <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
          </svg>
        </span>
        &nbsp;&nbsp;
        <span (click)="selectStudent(list.id)" data-bs-toggle="modal" data-bs-target="#deleteModal" >
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
            <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
          </svg>
        </span>
      </div>
    </div>
    <!-- <pagination-controls (pageChange)="p = $event"></pagination-controls> -->
  </div>
</div>




<!-- Add Departments modal -->
<div class="modal fade" id="add" tabindex="-1" aria-labelledby="addLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="addLabel">Add Student</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form>
          <div class="mb-3">
            <label for="departmentId" class="form-label">First Name</label>
            <input type="text" class="form-control" id="departmentId" [(ngModel)]="firstName" name="firstName" placeholder="Enter Department ID">
          </div>
          <div class="mb-3">
            <label for="departmentName" class="form-label">Last Name</label>
            <input type="text" class="form-control" id="departmentName" [(ngModel)]="lastName" name="lastName" placeholder="Enter Department Name">
          </div>
          <div class="mb-3">
            <label for="departmentId" class="form-label">Title</label>
            <input type="text" class="form-control" id="departmentId" [(ngModel)]="title" name="title" placeholder="Enter Department ID">
          </div>
          <div class="mb-3">
            <label for="departmentName" class="form-label">Email</label>
            <input type="email" class="form-control" id="departmentName" [(ngModel)]="email" name="email" placeholder="Enter Department Name">
          </div>
          <div class="mb-3">
            <label for="departmentId" class="form-label">Phone Number</label>
            <input type="number" class="form-control" id="departmentId" [(ngModel)]="phoneNumber" name="phoneNumber" placeholder="Enter Department ID">
          </div>
          <div class="mb-3">
            <label for="departmentName" class="form-label">Date Of Birth</label>
            <input type="datetime-local" class="form-control" id="departmentName" [(ngModel)]="dob" name="dob" placeholder="Enter Department Name">
          </div>
          <div class="mb-3">
            <label for="departmentId" class="form-label">Address</label>
            <input type="text" class="form-control" id="departmentId" [(ngModel)]="address" name="address" placeholder="Enter Department ID">
          </div>
          <div class="mb-3">
            <label for="departmentId" class="form-label">Department ID</label>
            <input type="number" class="form-control" id="departmentId" [(ngModel)]="departmentId" name="departmentId" placeholder="Enter Department ID">
          </div>
          <div class="mb-3">
            <label for="departmentName" class="form-label">Department Name</label>
            <input type="text" class="form-control" id="departmentName" [(ngModel)]="departmentName" name="departmentName" placeholder="Enter Department Name">
          </div>
          <div class="mb-3">
            <label for="departmentId" class="form-label">School ID</label>
            <input type="number" class="form-control" id="departmentId" [(ngModel)]="schoolId" name="schoolId" placeholder="Enter Department ID">
          </div>
          <div class="mb-3">
            <label for="departmentName" class="form-label">School Name</label>
            <input type="text" class="form-control" id="departmentName" [(ngModel)]="schoolName" name="schoolName" placeholder="Enter Department Name">
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal" (click)="addStudent()" >Save Department</button>
      </div>
    </div>
  </div>
</div>

<!-- Edit Department modal -->
<div class="modal fade" id="edit" tabindex="-1" aria-labelledby="editLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="editLabel">Edit Student</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form>
          <div class="mb-3">
            <label for="departmentId" class="form-label">First Name</label>
            <input type="text" class="form-control" id="departmentId" [(ngModel)]="selectedFirstname" name="selectedFirstname" placeholder="Enter Department ID">
          </div>
          <div class="mb-3">
            <label for="departmentName" class="form-label">Last Name</label>
            <input type="text" class="form-control" id="departmentName" [(ngModel)]="selectedLastname" name="selectedLastname" placeholder="Enter Department Name">
          </div>
          <div class="mb-3">
            <label for="departmentId" class="form-label">Title</label>
            <input type="text" class="form-control" id="departmentId" [(ngModel)]="selectedTitle" name="selectedTitle" placeholder="Enter Department ID">
          </div>
          <div class="mb-3">
            <label for="departmentName" class="form-label">Email</label>
            <input type="email" class="form-control" id="departmentName" [(ngModel)]="selectedEmail" name="selectedEmail" placeholder="Enter Department Name">
          </div>
          <div class="mb-3">
            <label for="departmentId" class="form-label">Phone Number</label>
            <input type="number" class="form-control" id="departmentId" [(ngModel)]="selectedPhoneNumber" name="selectedPhoneNumber" placeholder="Enter Department ID">
          </div>
          <div class="mb-3">
            <label for="departmentName" class="form-label">Date Of Birth</label>
            <input type="datetime-local" class="form-control" id="departmentName" [(ngModel)]="selectedDOB" name="selectedDOB" placeholder="Enter Department Name">
          </div>
          <div class="mb-3">
            <label for="departmentId" class="form-label">Address</label>
            <input type="text" class="form-control" id="departmentId" [(ngModel)]="selectedAddress" name="selectedAddress" placeholder="Enter Department ID">
          </div>
          <div class="mb-3">
            <label for="departmentId" class="form-label">Department ID</label>
            <input type="number" class="form-control" id="departmentId" [(ngModel)]="selectedDeptId" name="selectedDeptId" placeholder="Enter Department ID">
          </div>

        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal" (click)="submitEdit()" >Save Department</button>
      </div>
    </div>
  </div>
</div>

<!-- delete modal -->
<div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Delete Confirmation</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Are you sure to delete {{selectedFirstname}} {{selectedLastname}} from the list ?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal" (click)="deleteStudent()">Yes, please</button>
      </div>
    </div>
  </div>
</div>
